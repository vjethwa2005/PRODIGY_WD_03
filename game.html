<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tic Tac Toe game</title>
  <link rel="stylesheet" href="layout.css">
</head>
<body>
  <div class="game-wrapper">
    <h1>Tic Tac Toe game</h1>
    <div class="game-board">
      <div class="cell" id="cell-0"></div>
      <div class="cell" id="cell-1"></div>
      <div class="cell" id="cell-2"></div>
      <div class="cell" id="cell-3"></div>
      <div class="cell" id="cell-4"></div>
      <div class="cell" id="cell-5"></div>
      <div class="cell" id="cell-6"></div>
      <div class="cell" id="cell-7"></div>
      <div class="cell" id="cell-8"></div>
    </div>
  </div>
  <script>
    let currentPlayer = "X";
const x = "./sunlight.png";
const o = "./rain.png";
const cells = document.querySelectorAll(".cell");

// Track board state
let board = ["", "", "", "", "", "", "", "", ""];

function checkWin(player) {
  const winningCombos = [
    [0, 3, 6],
    [1, 4, 7],
    [2, 5, 8],
    [0, 1, 2],
    [3, 4, 5],
    [6, 7, 8],
    [0, 4, 8],
    [2, 4, 6]
  ];

  return winningCombos.some(combo => {
    return combo.every(index => board[index] === player);
  });
}

function makeMove(index, player) {
  if (board[index] === "") {
    board[index] = player;
    const img = document.createElement("img");
    img.src = player === "X" ? x : o;
    img.alt = player;
    img.classList.add("symbol");
    cells[index].appendChild(img);
    return true;
  }
  return false;
}

function aiMove() {
  // Pick a random empty cell
  let emptyCells = board
    .map((val, idx) => (val === "" ? idx : null))
    .filter(idx => idx !== null);

  if (emptyCells.length > 0) {
    const randomIndex = emptyCells[Math.floor(Math.random() * emptyCells.length)];
    makeMove(randomIndex, "O");

    if (checkWin("O")) {
      setTimeout(() => alert("O wins!"), 100);
    } else if (board.every(cell => cell !== "")) {
      setTimeout(() => alert("It's a draw!"), 100);
    }
  }
}

cells.forEach((cell, index) => {
  cell.addEventListener("click", () => {
    if (makeMove(index, "X")) {
      if (checkWin("X")) {
        setTimeout(() => alert("X wins!"), 100);
      } else if (board.every(cell => cell !== "")) {
        setTimeout(() => alert("It's a draw!"), 100);
      } else {
        setTimeout(aiMove, 1000);
      }
    }
  });
});

  </script>
</body>
</html>